# üìã –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

## üéØ –û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã NailArt Academy, –≥–¥–µ –ø–∞—Ä—Ç–Ω–µ—Ä—ã (—Ä–µ—Ñ–µ—Ä–∞–ª—ã) –ø–æ–ª—É—á–∞—é—Ç –±–æ–Ω—É—Å—ã –∑–∞ –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö –ø–æ–∫—É–ø–∫–∏.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –†–æ—É—Ç—ã
- `/referral/login` - –í—Ö–æ–¥ –¥–ª—è —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤-–ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
- `/referral/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∞-–ø–∞—Ä—Ç–Ω–µ—Ä–∞
- `/referral/dashboard` - –î–∞—à–±–æ—Ä–¥ —Ä–µ—Ñ–µ—Ä–∞–ª–∞ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

### –û—Ç–¥–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- –û—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤-–ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
- –û—Ç–¥–µ–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–Ω–µ —Å–≤—è–∑–∞–Ω–∞ —Å –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ—Ñ–µ—Ä–∞–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞

---

## üí∞ –õ–æ–≥–∏–∫–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤

### –¢–∏–ø—ã –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π

1. **–ó–∞ –ø–µ—Ä–≤–æ–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ** - 0.1‚Ç¨
   - –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ
   - –°—Ç–∞—Ç—É—Å: `visited`

2. **–ó–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é** - 0.5‚Ç¨
   - –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ
   - –°—Ç–∞—Ç—É—Å: `registered`

3. **–ó–∞ –ø–æ–∫—É–ø–∫—É** - 10% –æ—Ç —Å—É–º–º—ã –ø–æ–∫—É–ø–∫–∏
   - –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã –∫—É—Ä—Å–∞
   - –ù–∞—á–∏—Å–ª—è–µ—Ç—Å—è —Å –∫–∞–∂–¥–æ–π –ø–æ–∫—É–ø–∫–∏ —Ä–µ—Ñ–µ—Ä–∞–ª–∞ (–Ω–µ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–∞—è)
   - –°—Ç–∞—Ç—É—Å: `purchased`

### –í–∞–ª—é—Ç–∞
- –í—Å–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –≤ **EUR (–µ–≤—Ä–æ)**

---

## üîó –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫

### –§–æ—Ä–º–∞—Ç —Å—Å—ã–ª–∫–∏
```
https://site.com/?ref=ABC123
https://site.com/login?ref=ABC123
https://site.com/courses?ref=ABC123
```

### –ú–µ—Ö–∞–Ω–∏–∑–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
1. –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ —Å—Å—ã–ª–∫–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `?ref=CODE`:
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–¥ –≤ **localStorage** (–∫–ª—é—á: `referral_code`)
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–¥ –≤ **Cookie** (—Å—Ä–æ–∫: 30 –¥–Ω–µ–π)
   - –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ `referral_tracking` (status='visited')
   - –ù–∞—á–∏—Å–ª–∏—Ç—å 0.1‚Ç¨ —Ä–µ—Ñ–µ—Ä–∞–ª—É

2. –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å localStorage/cookie –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `referral_code`
   - –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω ‚Üí –ø—Ä–∏–≤—è–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ —Ä–µ—Ñ–µ—Ä–∞–ª—É
   - –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ `referral_tracking` (status='registered')
   - –ù–∞—á–∏—Å–ª–∏—Ç—å 0.5‚Ç¨ —Ä–µ—Ñ–µ—Ä–∞–ª—É

3. –ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ –∫—É—Ä—Å–∞:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏–≤—è–∑–∫–∞ –∫ —Ä–µ—Ñ–µ—Ä–∞–ª—É
   - –ï—Å–ª–∏ –µ—Å—Ç—å ‚Üí –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã –Ω–∞—á–∏—Å–ª–∏—Ç—å 10% –æ—Ç —Å—É–º–º—ã
   - –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ `referral_tracking` (status='purchased')

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `referral_partners`
–•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ—Ñ–µ—Ä–∞–ª–∞—Ö-–ø–∞—Ä—Ç–Ω–µ—Ä–∞—Ö.

**–ü–æ–ª—è:**
- `id` - PRIMARY KEY
- `email` - Email –ø–∞—Ä—Ç–Ω–µ—Ä–∞ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- `password_hash` - –•–µ—à –ø–∞—Ä–æ–ª—è (bcrypt)
- `name` - –ò–º—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞
- `phone` - –¢–µ–ª–µ—Ñ–æ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `referral_code` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- `telegram_tag` - –¢–µ–ª–µ–≥—Ä–∞–º —Ç–µ–≥ –¥–ª—è —Å–≤—è–∑–∏
- `payment_details` - –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã/—Å—á–µ—Ç–∞ –¥–ª—è –≤—ã–ø–ª–∞—Ç
- `total_earnings` - –û–±—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫ (–≤—Å–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è)
- `current_balance` - –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å (–¥–æ—Å—Ç—É–ø–Ω–æ –∫ –≤—ã–≤–æ–¥—É)
- `withdrawn_amount` - –í—ã–≤–µ–¥–µ–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤
- `is_active` - –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –ø–∞—Ä—Ç–Ω–µ—Ä
- `level` - –£—Ä–æ–≤–µ–Ω—å –ø–∞—Ä—Ç–Ω–µ—Ä–∞ (–¥–ª—è —Ä–µ–π—Ç–∏–Ω–≥–∞)
- `created_at` - –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `updated_at` - –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ò–Ω–¥–µ–∫—Å—ã:**
- `referral_code` (UNIQUE)
- `email` (UNIQUE)

---

### –¢–∞–±–ª–∏—Ü–∞ `referral_tracking`
–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥—ã, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–æ–∫—É–ø–∫–∏ –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–º —Å—Å—ã–ª–∫–∞–º.

**–ü–æ–ª—è:**
- `id` - PRIMARY KEY
- `partner_id` - ID —Ä–µ—Ñ–µ—Ä–∞–ª–∞-–ø–∞—Ä—Ç–Ω–µ—Ä–∞ (FK ‚Üí referral_partners)
- `visitor_ip` - IP –∞–¥—Ä–µ—Å –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è
- `visitor_user_agent` - User Agent –±—Ä–∞—É–∑–µ—Ä–∞
- `visited_at` - –î–∞—Ç–∞ –ø–µ—Ä–≤–æ–≥–æ –ø–æ—Å–µ—â–µ–Ω–∏—è
- `registered_at` - –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è)
- `user_id` - ID –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (FK ‚Üí users, NULL –µ—Å–ª–∏ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è)
- `status` - –°—Ç–∞—Ç—É—Å: 'visited', 'registered', 'purchased'
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏
- `updated_at` - –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ò–Ω–¥–µ–∫—Å—ã:**
- `partner_id`
- `user_id`
- `status`

---

### –¢–∞–±–ª–∏—Ü–∞ `referral_rewards`
–•—Ä–∞–Ω–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –±–æ–Ω—É—Å–æ–≤.

**–ü–æ–ª—è:**
- `id` - PRIMARY KEY
- `partner_id` - ID —Ä–µ—Ñ–µ—Ä–∞–ª–∞-–ø–∞—Ä—Ç–Ω–µ—Ä–∞ (FK ‚Üí referral_partners)
- `tracking_id` - ID –∑–∞–ø–∏—Å–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è (FK ‚Üí referral_tracking)
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (FK ‚Üí users, NULL –¥–ª—è –ø–æ—Å–µ—â–µ–Ω–∏–π)
- `enrollment_id` - ID –ø–æ–∫—É–ø–∫–∏ –∫—É—Ä—Å–∞ (FK ‚Üí enrollments, NULL –¥–ª—è –ø–æ—Å–µ—â–µ–Ω–∏–π/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π)
- `reward_type` - –¢–∏–ø –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è: 'visit', 'registration', 'purchase'
- `amount` - –°—É–º–º–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è (DECIMAL, EUR)
- `status` - –°—Ç–∞—Ç—É—Å: 'pending', 'approved', 'paid'
- `description` - –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è
- `created_at` - –î–∞—Ç–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è
- `approved_at` - –î–∞—Ç–∞ –æ–¥–æ–±—Ä–µ–Ω–∏—è
- `paid_at` - –î–∞—Ç–∞ –≤—ã–ø–ª–∞—Ç—ã

**–ò–Ω–¥–µ–∫—Å—ã:**
- `partner_id`
- `user_id`
- `enrollment_id`
- `status`
- `reward_type`

---

### –¢–∞–±–ª–∏—Ü–∞ `referral_withdrawals`
–ó–∞–ø—Ä–æ—Å—ã –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤.

**–ü–æ–ª—è:**
- `id` - PRIMARY KEY
- `partner_id` - ID —Ä–µ—Ñ–µ—Ä–∞–ª–∞-–ø–∞—Ä—Ç–Ω–µ—Ä–∞ (FK ‚Üí referral_partners)
- `amount` - –°—É–º–º–∞ –∫ –≤—ã–≤–æ–¥—É (DECIMAL, EUR)
- `payment_details` - –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã/—Å—á–µ—Ç–∞
- `telegram_tag` - –¢–µ–ª–µ–≥—Ä–∞–º —Ç–µ–≥ –¥–ª—è —Å–≤—è–∑–∏
- `status` - –°—Ç–∞—Ç—É—Å: 'pending', 'approved', 'paid', 'rejected'
- `admin_notes` - –ó–∞–º–µ—Ç–∫–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `requested_at` - –î–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞
- `processed_at` - –î–∞—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `processed_by` - ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –æ–±—Ä–∞–±–æ—Ç–∞–≤—à–µ–≥–æ –∑–∞–ø—Ä–æ—Å

**–ò–Ω–¥–µ–∫—Å—ã:**
- `partner_id`
- `status`

---

## üé® –î–∞—à–±–æ—Ä–¥ —Ä–µ—Ñ–µ—Ä–∞–ª–∞ (`/referral/dashboard`)

### –û—Å–Ω–æ–≤–Ω—ã–µ –±–ª–æ–∫–∏

1. **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞**
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏: `https://site.com/?ref=CODE`
   - –ö–Ω–æ–ø–∫–∞ "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É"
   - QR-–∫–æ–¥ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏ (–¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π/–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–æ–≤)

2. **–ì–æ—Ç–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è**
   - –ë–∞–Ω–Ω–µ—Ä—ã –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π
   - –ì–æ—Ç–æ–≤—ã–µ —Ç–µ–∫—Å—Ç—ã –¥–ª—è –ø–æ—Å—Ç–æ–≤
   - –°—Å—ã–ª–∫–∏ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

3. **–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º)
   - –í—Å–µ–≥–æ –ø–æ—Å–µ—â–µ–Ω–∏–π
   - –í—Å–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
   - –í—Å–µ–≥–æ –ø–æ–∫—É–ø–æ–∫
   - –û–±—â–∏–π –¥–æ—Ö–æ–¥
   - –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å
   - –í—ã–≤–µ–¥–µ–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤

4. **–ò—Å—Ç–æ—Ä–∏—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π**
   - –¢–∞–±–ª–∏—Ü–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Ç–∏–ø–∞–º –∏ –¥–∞—Ç–∞–º
   - –ö–æ–ª–æ–Ω–∫–∏: –î–∞—Ç–∞, –¢–∏–ø, –°—É–º–º–∞, –°—Ç–∞—Ç—É—Å, –û–ø–∏—Å–∞–Ω–∏–µ

5. **–°–ø–∏—Å–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤**
   - Email —á–∞—Å—Ç–∏—á–Ω–æ —Å–∫—Ä—ã—Ç: `abc***@example.com`
   - –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
   - –°—Ç–∞—Ç—É—Å (–ø–æ—Å–µ—Ç–∏–ª/–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è/–∫—É–ø–∏–ª)
   - –°—É–º–º–∞ –ø–æ–∫—É–ø–æ–∫

6. **–†–µ–π—Ç–∏–Ω–≥/–£—Ä–æ–≤–µ–Ω—å –ø–∞—Ä—Ç–Ω–µ—Ä–∞**
   - –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å
   - –ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è
   - –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Ä–æ–≤–Ω–µ–π (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤, —Å—É–º–º–∞ –¥–æ—Ö–æ–¥–∞)

7. **–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å**
   - –î–æ—Å—Ç—É–ø–Ω–æ –∫ –≤—ã–≤–æ–¥—É
   - –í –æ–±—Ä–∞–±–æ—Ç–∫–µ
   - –í—ã–≤–µ–¥–µ–Ω–æ

8. **–ó–∞–ø—Ä–æ—Å –≤—ã–≤–æ–¥–∞**
   - –§–æ—Ä–º–∞: —Å—É–º–º–∞, –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã/—Å—á–µ—Ç–∞, —Ç–µ–ª–µ–≥—Ä–∞–º —Ç–µ–≥
   - –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å —Å—Ç–∞—Ç—É—Å–∞–º–∏

9. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
   - –ù–æ–≤—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
   - –ù–æ–≤—ã–µ –ø–æ–∫—É–ø–∫–∏
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –≤—ã–ø–ª–∞—Ç

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (`/referral/register`)
- Email (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- –ü–∞—Ä–æ–ª—å (–º–∏–Ω. 6 —Å–∏–º–≤–æ–ª–æ–≤)
- –ò–º—è
- –¢–µ–ª–µ—Ñ–æ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è `referral_code`

### –í—Ö–æ–¥ (`/referral/login`)
- Email
- –ü–∞—Ä–æ–ª—å
- –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/referral/dashboard`

### –ó–∞—â–∏—Ç–∞ —Ä–æ—É—Ç–æ–≤
- `/referral/dashboard` —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- JWT —Ç–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage (`referral_token`)

---

## üí∏ –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤

### –ü—Ä–æ—Ü–µ—Å—Å –≤—ã–≤–æ–¥–∞

1. **–ó–∞–ø—Ä–æ—Å –æ—Ç –ø–∞—Ä—Ç–Ω–µ—Ä–∞:**
   - –ü–∞—Ä—Ç–Ω–µ—Ä –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É –≤ –¥–∞—à–±–æ—Ä–¥–µ
   - –£–∫–∞–∑—ã–≤–∞–µ—Ç: —Å—É–º–º—É, –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã/—Å—á–µ—Ç–∞, —Ç–µ–ª–µ–≥—Ä–∞–º —Ç–µ–≥
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `referral_withdrawals` (status='pending')

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º:**
   - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç –∑–∞–ø—Ä–æ—Å –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
   - –û–¥–æ–±—Ä—è–µ—Ç –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç
   - –ü—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ ‚Üí —Å—Ç–∞—Ç—É—Å 'approved'
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç –≤—ã–ø–ª–∞—Ç—É –≤—Ä—É—á–Ω—É—é
   - –ü–æ—Å–ª–µ –≤—ã–ø–ª–∞—Ç—ã ‚Üí —Å—Ç–∞—Ç—É—Å 'paid', –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `withdrawn_amount` –∏ `current_balance`

---

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç: site.com/?ref=ABC123
2. Frontend —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–¥ –≤ localStorage + cookie
3. Frontend –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ /api/referral/track-visit
4. Backend:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø–µ—Ä–≤—ã–π –ª–∏ —ç—Ç–æ –≤–∏–∑–∏—Ç (–ø–æ IP + User-Agent)
   - –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ referral_tracking (status='visited')
   - –ù–∞—á–∏—Å–ª—è–µ—Ç 0.1‚Ç¨ –≤ referral_rewards (status='approved')
   - –û–±–Ω–æ–≤–ª—è–µ—Ç –±–∞–ª–∞–Ω—Å –ø–∞—Ä—Ç–Ω–µ—Ä–∞
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
2. Frontend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç localStorage/cookie –Ω–∞ –Ω–∞–ª–∏—á–∏–µ referral_code
3. –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç referral_code –Ω–∞ —Å–µ—Ä–≤–µ—Ä
4. Backend:
   - –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ users
   - –ï—Å–ª–∏ –µ—Å—Ç—å referral_code:
     - –ù–∞—Ö–æ–¥–∏—Ç –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –ø–æ –∫–æ–¥—É
     - –°–æ–∑–¥–∞–µ—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ referral_tracking (status='registered')
     - –ù–∞—á–∏—Å–ª—è–µ—Ç 0.5‚Ç¨ –≤ referral_rewards (status='approved')
     - –û–±–Ω–æ–≤–ª—è–µ—Ç –±–∞–ª–∞–Ω—Å –ø–∞—Ä—Ç–Ω–µ—Ä–∞
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–∫—É–ø–∫–∞ –∫—É—Ä—Å–∞
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∫—É–ø–∞–µ—Ç –∫—É—Ä—Å
2. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã (webhook –æ—Ç Stripe)
3. Backend:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏–≤—è–∑–∫–∞ –∫ —Ä–µ—Ñ–µ—Ä–∞–ª—É
   - –ï—Å–ª–∏ –µ—Å—Ç—å:
     - –í—ã—á–∏—Å–ª—è–µ—Ç 10% –æ—Ç —Å—É–º–º—ã –ø–æ–∫—É–ø–∫–∏
     - –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ referral_rewards (status='approved')
     - –û–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ referral_tracking (status='purchased')
     - –û–±–Ω–æ–≤–ª—è–µ—Ç –±–∞–ª–∞–Ω—Å –ø–∞—Ä—Ç–Ω–µ—Ä–∞
```

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞
- –í—Å–µ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –ø–æ —Å—Å—ã–ª–∫–µ
- –í—Å–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
- –í—Å–µ–≥–æ –ø–æ–∫—É–ø–æ–∫
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–ø–µ—Ä–µ—Ö–æ–¥—ã
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è: –ø–æ–∫—É–ø–∫–∏/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –°—Ä–µ–¥–Ω–∏–π —á–µ–∫ –ø–æ–∫—É–ø–æ–∫
- –û–±—â–∏–π –¥–æ—Ö–æ–¥
- –î–æ—Ö–æ–¥ –∑–∞ –ø–µ—Ä–∏–æ–¥ (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π)

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –ü–æ –¥–∞—Ç–∞–º (–¥–µ–Ω—å, –Ω–µ–¥–µ–ª—è, –º–µ—Å—è—Ü, –≥–æ–¥, –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø–µ—Ä–∏–æ–¥)
- –ü–æ —Ç–∏–ø–∞–º –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π
- –ü–æ —Å—Ç–∞—Ç—É—Å–∞–º

---

## üéØ –£—Ä–æ–≤–Ω–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ (—Ä–µ–π—Ç–∏–Ω–≥)

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Ä–æ–≤–Ω–µ–π
- **–ù–æ–≤–∏—á–æ–∫** - 0-5 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤, 0-100‚Ç¨
- **–ê–∫—Ç–∏–≤–Ω—ã–π** - 6-20 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤, 101-500‚Ç¨
- **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª** - 21-50 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤, 501-2000‚Ç¨
- **–≠–∫—Å–ø–µ—Ä—Ç** - 51+ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤, 2001+‚Ç¨

*–ö—Ä–∏—Ç–µ—Ä–∏–∏ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏*

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞
- –§–æ—Ä–º–∞—Ç: 8 —Å–∏–º–≤–æ–ª–æ–≤ (–±—É–∫–≤—ã + —Ü–∏—Ñ—Ä—ã)
- –ü—Ä–∏–º–µ—Ä: `ABC123XY`
- –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### Cookie –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ù–∞–∑–≤–∞–Ω–∏–µ: `referral_code`
- –°—Ä–æ–∫: 30 –¥–Ω–µ–π
- Path: `/`
- SameSite: Lax

### localStorage
- –ö–ª—é—á: `referral_code`
- –ó–Ω–∞—á–µ–Ω–∏–µ: –∫–æ–¥ —Ä–µ—Ñ–µ—Ä–∞–ª–∞
- –°—Ä–æ–∫: –¥–æ –æ—á–∏—Å—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### Backend
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î (4 —Ç–∞–±–ª–∏—Ü—ã)
- [ ] API –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–≤—Ö–æ–¥–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
- [ ] API –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- [ ] API –¥–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤
- [ ] API –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞ (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –∏—Å—Ç–æ—Ä–∏—è)
- [ ] API –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –≤—ã–≤–æ–¥
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –æ–ø–ª–∞—Ç—ã (webhook)

### Frontend
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/referral/login`
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/referral/register`
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/referral/dashboard`
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] QR-–∫–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
- [ ] –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/admin/referral` (–æ–±—Å—É–¥–∏–º –æ—Ç–¥–µ–ª—å–Ω–æ)

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ —Å—É–º–º—ã –≤ EUR
- –í—ã–ø–ª–∞—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ)
- –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—â–µ–Ω–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ IP + User-Agent –¥–ª—è –ø–æ—Å–µ—â–µ–Ω–∏–π)
- Email —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ –≤ —Å–ø–∏—Å–∫–µ —á–∞—Å—Ç–∏—á–Ω–æ —Å–∫—Ä—ã—Ç –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-11  
**–í–µ—Ä—Å–∏—è:** 1.0
